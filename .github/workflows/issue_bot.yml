name: Bot response to issues

on:
  issues:
    types: [opened, edited]

jobs:
  docs_bot:
    name: Generate automated response by docs bot
    runs-on: ubuntu-latest
    steps:
      - name: Docs bot action
        if: ${{ github.repository_owner == 'espressif' }}
        uses: espressif/docs-bot-action@master
        env:
            BOT_API_KEY: ${{ secrets.BOT_API_KEY }}
            BOT_INTEGRATION_ID: ${{ secrets.BOT_INTEGRATION_ID }}
            BOT_API_ENDPOINT: ${{ secrets.BOT_API_ENDPOINT }}
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          github_repository: ${{ github.repository }}
          github_issue_number: ${{ github.event.issue.number }}
          title: ${{ github.event.issue.title }}
          in_msg: ${{ github.event.issue.body }}
          prefix_out_msg: >
            Hi @${{ github.event.issue.user.login }}! Please be aware that 
            (1) the following suggestions are generated by a bot and haven't been fact-checked by Espressif
            Systems,
            (2) burning eFuses and enabling security features are irreversible operations and can damage your ESP32 device.
            We hope that this message will help you until an Espressif Engineer looks at your issue.
